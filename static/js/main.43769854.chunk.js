(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(35)},28:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),s=a(37),l=(a(28),a(5)),i=a(6),u=a(8),p=a(7),h=a(9),m=a(36),d=a(38),g=a(21),f=a(10),v=a.n(f),y=a(11),b=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return fetch("https://swapi.co/api"+e).then(function(e){return e.json()})},E=function(e){var t=e.category,a=void 0===t?"":t,n=e.page,r=void 0===n?1:n,c=e.search,o=void 0===c?"":c,s=new URLSearchParams;return s.set("page",r),s.set("search",o),console.log(s.toString()),b("/".concat(a,"/?").concat(s.toString()))},w=function(e){var t=e.category,a=void 0===t?"people":t,n=e.id;if(a)return b("/".concat(a,"/").concat(n))},j=a(16),O=a(39),S=Object(O.a)(function(e){for(var t=e.location,a=e.count,n=(e.page,e.perPage),c=void 0===n?10:n,o=Math.ceil(a/c),s=[],l=0;l<o;l++)s.push(l+1);var i=function(e){var a=new URLSearchParams(t.search);return a.set("page",e),a.toString()};return r.a.createElement("div",{className:"Pagination"},s.map(function(e){return r.a.createElement(j.a,{key:e,to:{pathname:t.pathname,search:i(e)}},e)}))}),k=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={config:{name:{title:["name","title"],isSortable:!0,isSearchable:!0},age:{title:["birth_year","diameter","episode_id","average_height","skin_colors","passengers"],isSortable:!0},snippet:{title:["gender","terrain","opening_crawl","manufacturer"],isSearchable:!0}},columns:{people:["name","birth_year","gender"]},isLoaded:!1,page:0,count:0,people:[],category:"",search:""},a.loadPeople=Object(y.a)(v.a.mark(function e(){var t,n,r,c,o,s,l;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.search,r=t.page,c=t.category,e.next=3,E({category:c,page:r,search:n});case 3:o=e.sent,s=o.count,l=o.results,a.setState({people:l,count:s,isLoaded:!0});case 7:case"end":return e.stop()}},e)})),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.updatePageFromURL()}},{key:"componentDidUpdate",value:function(){this.updatePageFromURL()}},{key:"updatePageFromURL",value:function(){var e=this.props.location,t=+new URLSearchParams(e.search).get("page")||1,a=this.props.match.params.category,n=document.location.search.includes("search")?document.location.search.substring(8):"";n===this.state.search&&a===this.state.category?t!==this.state.page&&this.setState({page:t,category:a,search:n},this.loadPeople):this.setState({page:t,category:a,search:n},this.loadPeople)}},{key:"render",value:function(){var e=this.state,t=e.people,a=e.isLoaded,n=e.count,c=e.page,o=e.category;return r.a.createElement("div",{className:"PeoplePage"},r.a.createElement("h1",null,"People page"),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{count:n,page:c}),r.a.createElement("ul",null,t.map(function(e){return r.a.createElement("li",{key:e.name||e.title},r.a.createElement(m.a,{to:"./".concat(o,"/").concat(e.url.match(/\d+/g)[0])},e.name||e.title))}))):r.a.createElement("p",null,"Loading..."))}}]),t}(r.a.Component),P=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isLoaded:!1,page:0,count:0,people:[]},a.loadPeople=function(){var e=Object(y.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({category:t,id:n});case 2:r=e.sent,a.setState({people:r,isLoaded:!0});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params,t=e.category,a=e.id;this.loadPeople(t,a)}},{key:"render",value:function(){var e=this.state.people;return e?r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,Object.keys(e).map(function(t){if(0!==e[t].length&&!e[t].includes("2014")&&!e[t].includes("https")&&!e[t][0].includes("https"))return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement("b",null,t,":")),r.a.createElement("td",null,e[t]))}))):r.a.createElement(r.a.Fragment,null,"Loading")}}]),t}(n.Component),L=(a(34),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={search:""},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"handleFilter",value:function(e,t){this.setState({search:t});var a=window.location.pathname.match(/\w+/g),n={search:t},r=0===t.length?a:a&&a+"?search="+t;window.history.pushState(n,"url",r)}},{key:"render",value:function(){var e=this;this.state.search;return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Star Wars"),r.a.createElement("input",{className:"Query",type:"text",onChange:function(t){e.handleFilter("query",t.target.value)},defaultChecked:!0}),r.a.createElement(m.a,{to:"/people"},"People"),r.a.createElement(m.a,{to:"/planets"},"Planets"),r.a.createElement(m.a,{to:"/species"},"Species"),r.a.createElement(m.a,{to:"/vehicles"},"Vehicles"),r.a.createElement(m.a,{to:"/starships"},"Starships"),r.a.createElement("section",null,r.a.createElement(d.a,null,r.a.createElement(g.a,{history:this.props.history,exact:!0,path:"/:category",component:k}),r.a.createElement(g.a,{exact:!0,path:"/:category/:id",component:P}))))}}]),t}(n.Component));o.a.render(r.a.createElement(s.a,{basename:"/react-sw"},r.a.createElement(L,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.43769854.chunk.js.map