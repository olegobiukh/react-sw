(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(34)},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),i=a.n(s),c=a(35),l=(a(27),a(38)),o=a(37),u=a(20),p=a(36),m=a(7),d=a(8),h=a(10),f=a(9),g=a(11),v=a(5),b=a.n(v),y=a(12),E=function(){var e=Object(y.a)(b.a.mark(function e(t){var a,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://swapi.co/api/").concat(t,"/"));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(y.a)(b.a.mark(function e(t,a){var n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://swapi.co/api/").concat(t,"/").concat(a,"/"));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(y.a)(b.a.mark(function e(t){var a,n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),x={people:{name:{title:"name",isSortable:!0,isSearchable:!0},height:{title:"height",isSortable:!0},birth_year:{title:"birth year"}},films:{title:{title:"name",isSortable:!0,isSearchable:!0},episode_id:{title:"episode",isSortable:!0},opening_crawl:{title:"opening crawl"},release_date:{title:"release",isSortable:!0}},planets:{name:{title:"name",isSortable:!0,isSearchable:!0},diameter:{title:"diameter",isSortable:!0},terrain:{title:"terrain"}},species:{name:{title:"name",isSortable:!0,isSearchable:!0},average_lifespan:{title:"average lifespan",isSortable:!0},skin_colors:{title:"terrain"}},starships:{name:{title:"name",isSortable:!0,isSearchable:!0},cost_in_credits:{title:"cost (credits)",isSortable:!0},model:{title:"model"}},vehicles:{name:{title:"name",isSortable:!0,isSearchable:!0},cost_in_credits:{title:"cost (credits)",isSortable:!0},model:{title:"model"}}},O=["created","edited","url","homeworld"],j=["characters","pilots","residents","people","films","planets","species","starships","vehicles"],_=a(18),P=function(e){var t=e.config,a=e.api,n=e.onHeaderClick;return r.a.createElement("tr",{className:"thead-dark"},a&&Object.entries(t[a]).map(function(e){var t=Object(_.a)(e,2),s=t[0],i=t[1];return r.a.createElement("th",{key:s,className:i.isSortable?"sortable-column":"",onClick:function(){return n(a,s)}},i.title)}))},N=function(e){var t=e.prop,a=e.index,n=e.api,s=e.item;return r.a.createElement("td",null,"name"===t||"title"===t?r.a.createElement(l.a,{to:"/".concat(n,"/").concat(a)},s[t]):s[t])},S=function(e){var t=e.visibleItems,a=e.config,n=e.api;return t&&t.map(function(e){return r.a.createElement("tr",{key:e.url},Object.keys(a[n]).map(function(t){var a=e.url.match(/\d+/g)[0];return r.a.createElement(N,{key:t,prop:t,index:a,api:n,item:e})}))})},C=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={sortColumn:null,sortAsc:!0,api:""},a.handleHeaderClick=function(e,t){a.props.config[e][t].isSortable&&a.setState(function(e){var a=e.sortColumn,n=e.sortAsc;return{sortColumn:t,sortAsc:a!==t||!n}})},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.api,n=t.data,s=t.config,i=this.state.sortAsc?1:-1,c=this.state.sortColumn?n.sort(function(t,a){var n=t[e.state.sortColumn],r=a[e.state.sortColumn];return"number"===typeof n?i*(n-r):i*n.localeCompare(r)}):n;return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement(P,{config:s,api:a,onHeaderClick:this.handleHeaderClick})),r.a.createElement("tbody",null,r.a.createElement(S,{config:s,api:a,visibleItems:c})))}}]),t}(n.Component),D=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],config:x,api:""},a.updatePageFromURL=function(){var e=a.props.match.params.api;e!==a.state.api&&E(e).then(function(t){a.setState({data:t,api:e})})},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.updatePageFromURL()}},{key:"componentDidUpdate",value:function(){this.updatePageFromURL()}},{key:"render",value:function(){var e=this.state.api,t=this.state.data.results||[];return e?r.a.createElement(C,{api:e,data:t,config:x}):r.a.createElement("div",{className:"loading"})}}]),t}(n.Component),L=a(19),A=function(e){var t=e.category,a=e.index;return r.a.createElement("img",{className:"Page-Category__image",src:"https://starwars-visualguide.com/assets/img/".concat(/(people|pilots|residents)/gi.test(t)?"characters":t,"/").concat(a,".jpg"),alt:"Star Wars",onError:function(e){e.target.onError=null,e.target.src="https://starwars-visualguide.com/assets/img/placeholder-small.jpg"}.bind()})},F=function(e){var t=e.category,a=e.index,n=e.item;return r.a.createElement("p",null,r.a.createElement(l.a,{to:"/".concat(/(characters|people|pilots|residents)/gi.test(t)?"people":t,"/").concat(a)},n.name||n.title))},U=function(e){var t=e.data,a=e.category;return r.a.createElement("div",{className:"Page-Category"},r.a.createElement("div",{className:"Page-Category__title"},r.a.createElement("strong",null,"Related ",a)),t[a].map(function(e,t){var n=e.url?e.url.match(/\d+/g)[0]:e.match(/\d+/g)[0];return r.a.createElement("div",{key:t,className:"Page-Category__box"},r.a.createElement(A,{category:a,index:n}),r.a.createElement(F,{category:a,index:n,item:e}))}))},H=function(e){var t=e.data,a=e.dataDisplayOut;return r.a.createElement("div",{className:"grid"},t&&a.map(function(e,a){return t.hasOwnProperty(e)&&0!==t[e].length&&r.a.createElement(U,{key:a,data:t,category:e})}))},R=function(e){var t=e.api,a=e.id;return r.a.createElement("div",{className:"Page__img-big"},r.a.createElement("img",{src:"https://starwars-visualguide.com/assets/img/".concat("people"!==t?t:"characters","/").concat(a,".jpg"),alt:"star wars",onError:function(e){e.target.onError=null,e.target.src="https://starwars-visualguide.com/assets/img/big-placeholder.jpg",e.target.height="400",e.target.width="100"}.bind(void 0)}))},I=function(e){e.api,e.id;var t=e.data,a=e.dataDisplayNot,n=e.dataDisplayOut;return r.a.createElement("div",{className:"Page__data"},t?Object.keys(t).map(function(e,s){if(!a.includes(e)&&!n.includes(e)&&"unknown"!==t[e])return"name"===e||"title"===e?r.a.createElement("h1",{key:s},t[e]):r.a.createElement("p",{key:e},r.a.createElement("span",{className:"opening_crawl"===e?"Page__key":""},e,":"),t[e])}):r.a.createElement("div",{className:"loading"}))},J=function(e){var t=e.api,a=e.id,n=e.data,s=e.dataDisplayNot,i=e.dataDisplayOut;return r.a.createElement("div",{className:"Page"},r.a.createElement(R,{api:t,id:a}),r.a.createElement(I,{api:t,id:a,data:n,dataDisplayNot:s,dataDisplayOut:i}))},M=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={configCategories:null,data:null,api:"",id:"",content:null},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentDidUpdate",value:function(){var e=this.props.match.params,t=e.id,a=e.api;this.state.id===t&&this.state.api===a||this.loadData()}},{key:"loadData",value:function(){var e=Object(y.a)(b.a.mark(function e(){var t,a,n,r,s,i,c,l,o,u,p,m,d;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params,a=t.api,n=t.id,e.next=3,k(a,n);case 3:if(r=e.sent,e.t0=r.hasOwnProperty("films"),!e.t0){e.next=9;break}return e.next=8,Promise.all(r.films.map(function(e){return w(e)}));case 8:e.t0=e.sent;case 9:if(s=e.t0,e.t1=r.hasOwnProperty("species"),!e.t1){e.next=15;break}return e.next=14,Promise.all(r.species.map(function(e){return w(e)}));case 14:e.t1=e.sent;case 15:if(i=e.t1,e.t2=r.hasOwnProperty("vehicles"),!e.t2){e.next=21;break}return e.next=20,Promise.all(r.vehicles.map(function(e){return w(e)}));case 20:e.t2=e.sent;case 21:if(c=e.t2,e.t3=r.hasOwnProperty("starships"),!e.t3){e.next=27;break}return e.next=26,Promise.all(r.starships.map(function(e){return w(e)}));case 26:e.t3=e.sent;case 27:if(l=e.t3,e.t4=r.hasOwnProperty("characters"),!e.t4){e.next=33;break}return e.next=32,Promise.all(r.characters.map(function(e){return w(e)}));case 32:e.t4=e.sent;case 33:if(o=e.t4,e.t5=r.hasOwnProperty("people"),!e.t5){e.next=39;break}return e.next=38,Promise.all(r.people.map(function(e){return w(e)}));case 38:e.t5=e.sent;case 39:if(u=e.t5,e.t6=r.hasOwnProperty("residents"),!e.t6){e.next=45;break}return e.next=44,Promise.all(r.residents.map(function(e){return w(e)}));case 44:e.t6=e.sent;case 45:if(p=e.t6,e.t7=r.hasOwnProperty("planets"),!e.t7){e.next=51;break}return e.next=50,Promise.all(r.planets.map(function(e){return w(e)}));case 50:e.t7=e.sent;case 51:if(m=e.t7,e.t8=r.hasOwnProperty("pilots"),!e.t8){e.next=57;break}return e.next=56,Promise.all(r.pilots.map(function(e){return w(e)}));case 56:e.t8=e.sent;case 57:d=e.t8,this.setState({id:n,api:a,data:Object(L.a)({},r,{films:s||[],species:i||[],vehicles:c||[],starships:l||[],characters:o||[],planets:m||[],people:u||[],residents:p||[],pilots:d||[]})});case 59:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.data,t=this.state,a=t.api,n=t.id;return r.a.createElement("div",null,r.a.createElement(J,{api:a,id:n,data:e,dataDisplayNot:O,dataDisplayOut:j}),r.a.createElement(H,{data:e,dataDisplayOut:j}))}}]),t}(n.Component),W=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"grid"},Object.keys(x).map(function(e,t){return r.a.createElement(l.a,{key:t,to:"/".concat(e),className:"List__item"},r.a.createElement("span",{className:"List__title"},e),r.a.createElement("img",{src:"https://starwars-visualguide.com/assets/img/categories/".concat("people"!==e?e:"character",".jpg"),alt:"Star Wars"}))})))},B=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"stars"}),r.a.createElement("div",{className:"twinkling"}),r.a.createElement("div",{className:"Catalog"},r.a.createElement(l.a,{to:"/",className:"Logo"},r.a.createElement("div",{className:"Logo__title"},"star"),r.a.createElement("div",{className:"Logo__title"},"wars")),r.a.createElement(o.a,null,r.a.createElement(u.a,{exact:!0,path:"/",render:function(){return r.a.createElement(p.a,{to:"/home",component:W})}}),r.a.createElement(u.a,{exact:!0,path:"/home",component:W}),r.a.createElement(u.a,{exact:!0,path:"/:api",component:D}),r.a.createElement(u.a,{exact:!0,path:"/:api/:id",component:M}))))},q=(a(33),document.getElementById("root"));i.a.render(r.a.createElement(c.a,{basename:"/react-sw"},r.a.createElement(B,null)),q)}},[[21,1,2]]]);
//# sourceMappingURL=main.a2a9b0b6.chunk.js.map